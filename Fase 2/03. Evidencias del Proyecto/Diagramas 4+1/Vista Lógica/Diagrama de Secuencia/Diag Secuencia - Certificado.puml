@startuml
actor Vecino
participant "Frontend (Web/App)" as FE
participant "Backend (API)" as BE
database "Base de Datos" as DB
participant "M칩dulo Notificaciones" as NOTI

title Certificado de Residencia (Autogenerado)

Vecino -> FE : Solicitar certificado
FE -> BE : POST /certificados
BE -> DB : Validar inscripci칩n
DB --> BE : OK / No inscrito

alt Vecino v치lido
  BE -> DB : Registrar certificado
  BE -> NOTI : Enviar certificado (PDF/Email)
  NOTI --> Vecino : Certificado entregado
  BE --> FE : 201 Created (id)
else Vecino no v치lido
  BE -> NOTI : Notificar requisito no cumplido
  NOTI --> Vecino : Debe inscribirse
  BE --> FE : 400 Bad Request
end
@enduml
